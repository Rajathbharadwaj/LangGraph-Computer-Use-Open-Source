STDIN
<!DOCTYPE html>
<html>
<head>
    <title>Test Extension Connection</title>
</head>
<body>
    <h1>Extension Connection Test</h1>
    <div id="status">Checking...</div>
    
    <script>
        const userId = 'user_test123';
        const wsUrl = `ws://localhost:8001/ws/extension/${userId}`;
        
        console.log('üîå Attempting to connect to:', wsUrl);
        
        const ws = new WebSocket(wsUrl);
        
        ws.onopen = () => {
            console.log('‚úÖ WebSocket connected!');
            document.getElementById('status').innerHTML = '‚úÖ Connected to backend!';
            document.getElementById('status').style.color = 'green';
            
            // Send test message
            ws.send(JSON.stringify({
                type: 'TEST',
                message: 'Hello from test page'
            }));
        };
        
        ws.onerror = (error) => {
            console.error('‚ùå WebSocket error:', error);
            document.getElementById('status').innerHTML = '‚ùå Connection failed! Check console.';
            document.getElementById('status').style.color = 'red';
        };
        
        ws.onmessage = (event) => {
            console.log('üì® Received:', event.data);
        };
        
        ws.onclose = () => {
            console.log('üîå Connection closed');
            document.getElementById('status').innerHTML = '‚ö†Ô∏è Connection closed';
            document.getElementById('status').style.color = 'orange';
        };
    </script>
</body>
</html>
